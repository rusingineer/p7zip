<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
  <META http-equiv="Content-Type" content="text/html; charset=Windows-1252">
  <TITLE>Command Line Syntax</TITLE>
  <LINK href="/style.css" rel="stylesheet" type="text/css">
</HEAD>

<BODY>

<H1>Command Line Syntax</H1>

<PRE class = "syntax">
7z <A href = "commands/index.htm">&lt;command></A> [<A href = "switches/index.htm">&lt;switch></A>...] &lt;base_archive_name> [&lt;arguments>...]
</PRE>
<PRE class = "syntax">
&lt;arguments> ::= <A href = "switches/index.htm">&lt;switch></A> | &lt;wildcard> | &lt;filename> | &lt;list_file>
<A href = "switches/index.htm">&lt;switch></A>::= &lt;switch_symbol>&lt;switch_characters>[&lt;option>]
&lt;switch_symbol> ::= '/' | '-' 
&lt;list_file> ::= @{filename}
</PRE>


<P>Expressions in square brackets (between '[' and ']') are optional.</P>

<P>Expressions in curly braces ('{' and '}') means that instead that 
Expression (including braces) must be used some string.</P>

<P>Expression</P>

<PRE class = "syntax">
expression1 | expression2 | ... | expressionN</DT>
</PRE>

<P>
means that any (but only one) from these expressions must be specified.

<P><A href = "commands/index.htm">Commands</A> and
<A href = "switches/index.htm">switches</A> can be entered in upper or lower case.</P>

<P>Command is the first non-switch argument.</P>

<P>The "base_archive_name" must be the first filename on the command line
after the command.</P>

<P>The switches and other filenames can be in any order.</P>

<P>Wildcards or filenames with spaces must be quoted:</P>

<PRE>
    "Dir\Program files\*"
    Dir\"Program files"\*
</PRE>

<P>Switch options can be combined to save command line length. However, some
switch options take optional string arguments and therefore, must be the
last option in a combined argument token string because 7-Zip accepts the
rest of the argument token as the optional argument.</P>

<P>7-Zip uses wild name matching similar to Windows 95:</P>
<UL>
  <LI><B>'*'</B> means a sequence of arbitrary characters.</LI>
  <LI><B>'?'</B> means any character.</LI>
</UL>

<P>
7-Zip doesn't uses system wildcard mask parser, and 7-Zip doesn't 
follow that archaic rule, when *.* means any file. 7-Zip treats 
*.* as any file that have extension. To process all files you must 
use * wildcard.</P>

<P>Examples:</P>
<TABLE border = "0">
  <TR><TD>*.txt</TD><TD>means all files with an extension of ".txt"</TD></TR>
  <TR><TD>?a*</TD><TD>means all files with a second character of "a"</TD></TR>
  <TR><TD>*1*</TD><TD>means all names that contains character "1"</TD></TR>
  <TR><TD>*.*.*</TD><TD>means all names that contain two "." means characters</TD></TR>
</TABLE>


<P>The default wildcard "*" will be used if there is no filename/wildcard in
command line.</P>

<P>Restrictions for wildcards and filenames for archiving files:</P>
<UL>
  <LI>Wildcards and filenames can't contain disk name or network name. Every
     wildcard/filename path is treated as path from current directory on
     disk and as path from root directory in archive. In other words, the
     first part of path (letters before first slash ('\') symbol) always
     must be name or wildcard.</LI>
  <LI>Wildcards and filenames can't be ended by slash ('\') symbol.</LI>
  <LI>Wildcards can contain wildcard characters ('*' and '?') only in last
     part of path.</LI>
</UL>

<P>Examples:</P>

<TABLE border = "0">
  <TR><TD>Dir1\*.cpp</TD><TD>OK</TD></TR>
  <TR><TD>c:\Dir1\*.cpp</TD><TD>ILLEGAL: path contains disk name</TD></TR>
  <TR><TD>Dir1\Dir2\g?.txt</TD><TD>OK</TD></TR>
  <TR><TD>Dir1\D?r2\file1.txt</TD><TD>ILLEGAL: there is a wildcard char in non last part</TD></TR>
</TABLE>


<P>These restrictions do not act to filenames and directory names used not as
archiving files.</P>

<H2><A name = "ListFile"></A>List file</H2>

<P>You can supply one or more filenames or wildcards for special list files
(files containing lists of files). The filenames in such list file must be
separated by space, tab or new line symbol(s). Wildcards or filenames with
spaces must be quoted.</P>

<P>Multiple list files are supported.</P>

<P>For example, if contents of file "listfile.txt" is the following:</P>

<PRE>
    "My programs\*.cpp"
    Src\*.cpp
</PRE>
<P>then command</P>

<PRE>
    7z a -tzip archive.zip @listfile.txt
</PRE>

<P>adds to archive "archive.zip" all "*.cpp" files from directories "My
programs" and "Src".</P>

</P>
</BODY>
</HTML>
